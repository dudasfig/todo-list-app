{
  "version": 4,
  "terraform_version": "1.13.1",
  "serial": 270,
  "lineage": "0f625c60-3914-2959-ad97-cb875b4d8dbb",
  "outputs": {
    "build_project": {
      "value": "esf-vppm-todo-list",
      "type": "string"
    },
    "deploy_project": {
      "value": "esf-vppm-todo-list-deploy",
      "type": "string"
    },
    "ecr_repo": {
      "value": "325583868777.dkr.ecr.eu-central-1.amazonaws.com/esf-vppm/todo-list",
      "type": "string"
    },
    "pipeline": {
      "value": "esf-vppm-todo-list-pipeline",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_eks_cluster",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_config": [
              {
                "authentication_mode": "API_AND_CONFIG_MAP",
                "bootstrap_cluster_creator_admin_permissions": true
              }
            ],
            "arn": "arn:aws:eks:eu-central-1:325583868777:cluster/eksDeepDiveFrankfurt",
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJY1Y5bEVtaEV3UmN3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TlRFd01qY3hNVEF6TXpaYUZ3MHpOVEV3TWpVeE1UQTRNelphTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUUM5ZkZUMUk0QWI1L0drbGJrQ1I3enN5dDZ3VU95cHptaDhzdkJldElmbmN4VDJmcmU0OU9RZXowVFgKVUJJZVBhSVVHQVRnL2ZseDVuQnhRTWIvVUZQTnZ2TXRLb3NtaGYyLytzMUFXaVRhSDFZTEpDcEptZ0t0SG5KSQpkZGU2a3lKVU43QkpLdVVFR3c4NUx4VTAvOGYwazlWMG1xRC9kaEt6b25kY2dDL1N5SithSXdyY1A5R1pjWWNqCkRuUzJZd0ZJT3RmWFc4SDc2cTA2eXRPbnZNWVA1d0gzbVdPWkliVkFDUGxSY0IybDZva3hrdHEvU1lXZGF6YloKc2xmS1BBNzFHaUZEWWFsWGtUNTRFWnR1V2FxbFpPTjJhcEdaRzV5R0YvQXFHZ2pzWThzWUUwVUxzZksxc0cwTgp4NkJueTFDeUI1Q1RkcVh4K2JpSjFlYThzVTAxQWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJUM25ETHhzRGg1bEI2eThqc1liU2RZWjNrUkl6QVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQnRKNldkazVTeQo2OTlEVnlkNmhHRlJ6OCs0Zm1ndTc2VHNHZC9CbGVkZGRwTkhTNllpWlp5Q1Z0UmxoOHBKYXhaOW50VUR5VDhMClpyYXpSUGFMWHFLOE90U2RjdE9YK1Zaemw2NnlueXE0TS9DVDl4MGFBcUNDMm1oSHdTNVkzaFFTU0Q3UDNaV1gKZitHRW0rdTFkczZvaGY5dllEVy9yTlMxM3dkT2NRVVR0ZzkvM2NHTnliQ0Z5NEIwQ3gvK1Z5eDdFNTArY1poZwp1cHRnTGFxdjFocWJyZHdmYVl2QWEzN1BaSk9QZEx6enNLU0lmKzdLeFZlMUFHeWcwRDZoajRqQVVTbTY4UDNkCnFockMwSk1FOXlOdnlhMHFSaHpjQTdyblBGT1hsSlVYWFhnbWIwd1d0U2tnQWNIMUgvS0VvYnk4a0FzWllteU8KbCthNXFZZjVlM3NOCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
              }
            ],
            "cluster_id": null,
            "compute_config": [
              {
                "enabled": false,
                "node_pools": [],
                "node_role_arn": ""
              }
            ],
            "created_at": "2025-10-27T11:03:03Z",
            "enabled_cluster_log_types": [],
            "endpoint": "https://21FC08540ACAD70A1FAB8FFC56015626.gr7.eu-central-1.eks.amazonaws.com",
            "id": "eksDeepDiveFrankfurt",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.eu-central-1.amazonaws.com/id/21FC08540ACAD70A1FAB8FFC56015626"
                  }
                ]
              }
            ],
            "kubernetes_network_config": [
              {
                "elastic_load_balancing": [
                  {
                    "enabled": false
                  }
                ],
                "ip_family": "ipv4",
                "service_ipv4_cidr": "10.100.0.0/16",
                "service_ipv6_cidr": ""
              }
            ],
            "name": "eksDeepDiveFrankfurt",
            "outpost_config": [],
            "platform_version": "eks.26",
            "remote_network_config": [],
            "role_arn": "arn:aws:iam::325583868777:role/role-for-eksDeepDiveFrankfurt-eks-cluster",
            "status": "ACTIVE",
            "storage_config": [
              {
                "block_storage": [
                  {
                    "enabled": false
                  }
                ]
              }
            ],
            "tags": {
              "Name": "eksDeepDiveFrankfurt",
              "Terraform": "true",
              "component": "cluster",
              "env": "labs",
              "part-of": "eksDeepDiveFrankfurt",
              "project": "cesar-asn"
            },
            "upgrade_policy": [
              {
                "support_type": "EXTENDED"
              }
            ],
            "version": "1.32",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-06448e96540a5c288",
                "endpoint_private_access": false,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": [],
                "subnet_ids": [
                  "subnet-556d813f",
                  "subnet-75144e08"
                ],
                "vpc_id": "vpc-6412160f"
              }
            ],
            "zonal_shift_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_eks_cluster_auth",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eksDeepDiveFrankfurt",
            "name": "eksDeepDiveFrankfurt",
            "token": "k8s-aws-v1.aHR0cHM6Ly9zdHMuZXUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb20vP0FjdGlvbj1HZXRDYWxsZXJJZGVudGl0eSZWZXJzaW9uPTIwMTEtMDYtMTUmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVVhUU1BTTlVUVjJTREpWMyUyRjIwMjUxMDMxJTJGZXUtY2VudHJhbC0xJTJGc3RzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTEwMzFUMjM0NTI2WiZYLUFtei1FeHBpcmVzPTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JTNCeC1rOHMtYXdzLWlkJlgtQW16LVNpZ25hdHVyZT0xZjBmOWZjMTRhNDQxYmM4ZDRmNTgzMzg5ZTQ0NWZlYTAzOGM3NDRkYzcyYjVmMTU4ODVkM2ZjYzdhZWZlNGEz"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "token"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.codebuild",
      "mode": "managed",
      "type": "aws_codebuild_project",
      "name": "build",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codebuild:eu-central-1:325583868777:project/esf-vppm-todo-list",
            "artifacts": [
              {
                "artifact_identifier": "",
                "bucket_owner_access": "",
                "encryption_disabled": false,
                "location": "",
                "name": "esf-vppm-todo-list",
                "namespace_type": "",
                "override_artifact_name": false,
                "packaging": "NONE",
                "path": "",
                "type": "CODEPIPELINE"
              }
            ],
            "badge_enabled": false,
            "badge_url": "",
            "build_batch_config": [],
            "build_timeout": 60,
            "cache": [
              {
                "location": "",
                "modes": [],
                "type": "NO_CACHE"
              }
            ],
            "concurrent_build_limit": 0,
            "description": "",
            "encryption_key": "arn:aws:kms:eu-central-1:325583868777:alias/aws/s3",
            "environment": [
              {
                "certificate": "",
                "compute_type": "BUILD_GENERAL1_SMALL",
                "environment_variable": [
                  {
                    "name": "AWS_DEFAULT_REGION",
                    "type": "PLAINTEXT",
                    "value": "eu-central-1"
                  },
                  {
                    "name": "ECR_REPO_URI",
                    "type": "PLAINTEXT",
                    "value": "325583868777.dkr.ecr.eu-central-1.amazonaws.com/esf-vppm-todo-list"
                  }
                ],
                "fleet": [],
                "image": "aws/codebuild/standard:7.0",
                "image_pull_credentials_type": "CODEBUILD",
                "privileged_mode": true,
                "registry_credential": [],
                "type": "LINUX_CONTAINER"
              }
            ],
            "file_system_locations": [],
            "id": "arn:aws:codebuild:eu-central-1:325583868777:project/esf-vppm-todo-list",
            "logs_config": [
              {
                "cloudwatch_logs": [
                  {
                    "group_name": "",
                    "status": "ENABLED",
                    "stream_name": ""
                  }
                ],
                "s3_logs": [
                  {
                    "bucket_owner_access": "",
                    "encryption_disabled": false,
                    "location": "",
                    "status": "DISABLED"
                  }
                ]
              }
            ],
            "name": "esf-vppm-todo-list",
            "project_visibility": "PRIVATE",
            "public_project_alias": "",
            "queued_timeout": 480,
            "resource_access_role": "",
            "secondary_artifacts": [],
            "secondary_source_version": [],
            "secondary_sources": [],
            "service_role": "arn:aws:iam::325583868777:role/service-role/codebuild-asn-demo-lab-service-role",
            "source": [
              {
                "auth": [],
                "build_status_config": [],
                "buildspec": "version: 0.2\n\nenv:\n  variables:\n    IMAGE_REPO: 325583868777.dkr.ecr.eu-central-1.amazonaws.com/esf-vppm/todo-list\n\nphases:\n  pre_build:\n    commands:\n      - echo Logging in to Amazon ECR...\n      - aws ecr get-login-password --region eu-central-1 | docker login --username AWS --password-stdin 325583868777.dkr.ecr.eu-central-1.amazonaws.com\n      - IMAGE_TAG_LATEST=latest\n      - IMAGE_TAG_BUILD=build-${CODEBUILD_BUILD_NUMBER}\n      - echo Build number is $CODEBUILD_BUILD_NUMBER\n      - echo IMAGE_TAG_BUILD=$IMAGE_TAG_BUILD\n\n  build:\n    commands:\n      - echo Building Docker image...\n      - docker build -t $IMAGE_REPO:$IMAGE_TAG_LATEST -t $IMAGE_REPO:$IMAGE_TAG_BUILD .\n\n  post_build:\n    commands:\n      - echo Pushing image to ECR...\n      - docker push $IMAGE_REPO:$IMAGE_TAG_LATEST\n      - docker push $IMAGE_REPO:$IMAGE_TAG_BUILD\n      - echo Build completed successfully.\n\nartifacts:\n  files:\n    - '**/*'\n",
                "git_clone_depth": 0,
                "git_submodules_config": [],
                "insecure_ssl": false,
                "location": "",
                "report_build_status": false,
                "type": "CODEPIPELINE"
              }
            ],
            "source_version": "",
            "tags": null,
            "tags_all": {},
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.ecr.aws_ecr_repository.repo"
          ]
        }
      ]
    },
    {
      "module": "module.codebuild",
      "mode": "managed",
      "type": "aws_codebuild_project",
      "name": "deploy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codebuild:eu-central-1:325583868777:project/esf-vppm-todo-list-deploy",
            "artifacts": [
              {
                "artifact_identifier": "",
                "bucket_owner_access": "",
                "encryption_disabled": false,
                "location": "",
                "name": "esf-vppm-todo-list-deploy",
                "namespace_type": "",
                "override_artifact_name": false,
                "packaging": "NONE",
                "path": "",
                "type": "CODEPIPELINE"
              }
            ],
            "badge_enabled": false,
            "badge_url": "",
            "build_batch_config": [],
            "build_timeout": 60,
            "cache": [
              {
                "location": "",
                "modes": [],
                "type": "NO_CACHE"
              }
            ],
            "concurrent_build_limit": 0,
            "description": "",
            "encryption_key": "arn:aws:kms:eu-central-1:325583868777:alias/aws/s3",
            "environment": [
              {
                "certificate": "",
                "compute_type": "BUILD_GENERAL1_SMALL",
                "environment_variable": [
                  {
                    "name": "CLUSTER_NAME",
                    "type": "PLAINTEXT",
                    "value": "eksDeepDiveFrankfurt"
                  },
                  {
                    "name": "NAMESPACE",
                    "type": "PLAINTEXT",
                    "value": "default"
                  },
                  {
                    "name": "DEPLOYMENT_NAME",
                    "type": "PLAINTEXT",
                    "value": "esf-vppm-eu-central-1-deployment-todo"
                  },
                  {
                    "name": "ECR_URI",
                    "type": "PLAINTEXT",
                    "value": "325583868777.dkr.ecr.eu-central-1.amazonaws.com/esf-vppm-todo-list"
                  },
                  {
                    "name": "AWS_DEFAULT_REGION",
                    "type": "PLAINTEXT",
                    "value": "eu-central-1"
                  }
                ],
                "fleet": [],
                "image": "aws/codebuild/standard:7.0",
                "image_pull_credentials_type": "CODEBUILD",
                "privileged_mode": true,
                "registry_credential": [],
                "type": "LINUX_CONTAINER"
              }
            ],
            "file_system_locations": [],
            "id": "arn:aws:codebuild:eu-central-1:325583868777:project/esf-vppm-todo-list-deploy",
            "logs_config": [
              {
                "cloudwatch_logs": [
                  {
                    "group_name": "",
                    "status": "ENABLED",
                    "stream_name": ""
                  }
                ],
                "s3_logs": [
                  {
                    "bucket_owner_access": "",
                    "encryption_disabled": false,
                    "location": "",
                    "status": "DISABLED"
                  }
                ]
              }
            ],
            "name": "esf-vppm-todo-list-deploy",
            "project_visibility": "PRIVATE",
            "public_project_alias": "",
            "queued_timeout": 480,
            "resource_access_role": "",
            "secondary_artifacts": [],
            "secondary_source_version": [],
            "secondary_sources": [],
            "service_role": "arn:aws:iam::325583868777:role/service-role/codebuild-asn-demo-lab-service-role",
            "source": [
              {
                "auth": [],
                "build_status_config": [],
                "buildspec": "version: 0.2\nenv:\n  variables:\n    IMAGE_REPO: 325583868777.dkr.ecr.eu-central-1.amazonaws.com/esf-vppm/todo-list\n    DEPLOYMENT_NAME: esf-vppm-eu-central-1-deployment-todo # \u003c-- ajuste EXATAMENTE para o nome do seu deployment\n    CONTAINER_NAME: todo \n\nphases: \n  install:\n    commands:\n      - echo Instalando kubectl...\n      - curl -sLO \"https://dl.k8s.io/release/v1.30.0/bin/linux/amd64/kubectl\"\n      - chmod +x kubectl \u0026\u0026 mv kubectl /usr/local/bin/\n\n  pre_build:\n    commands:\n      - echo \"Configurando kubeconfig para $CLUSTER_NAME\"\n      - aws eks update-kubeconfig --name $CLUSTER_NAME --region $AWS_DEFAULT_REGION\n\n      - echo \"Obtendo tag da imagem baseada no build...\"\n      - IMAGE_TAG=\"build-${CODEBUILD_BUILD_NUMBER}\"\n      - IMAGE_URI=\"$IMAGE_REPO:$IMAGE_TAG\"\n      - echo \"IMAGE_URI=${IMAGE_URI}\"\n\n  build:\n    commands:\n      - echo \"Atualizando imagem no Kubernetes...\"\n      - kubectl -n $NAMESPACE set image deployment/$DEPLOYMENT_NAME $CONTAINER_NAME=$IMAGE_URI\n\n      - echo \"Aguardando rollout...\"\n      - kubectl -n $NAMESPACE rollout status deployment/$DEPLOYMENT_NAME --timeout=120s\n\n\nartifacts:\n  files:\n    - '**/*'\n",
                "git_clone_depth": 0,
                "git_submodules_config": [],
                "insecure_ssl": false,
                "location": "",
                "report_build_status": false,
                "type": "CODEPIPELINE"
              }
            ],
            "source_version": "",
            "tags": null,
            "tags_all": {},
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.ecr.aws_ecr_repository.repo"
          ]
        }
      ]
    },
    {
      "module": "module.ecr",
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "repo",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:eu-central-1:325583868777:repository/esf-vppm-todo-list",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": null,
            "id": "esf-vppm-todo-list",
            "image_scanning_configuration": [
              {
                "scan_on_push": false
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "name": "esf-vppm-todo-list",
            "registry_id": "325583868777",
            "repository_url": "325583868777.dkr.ecr.eu-central-1.amazonaws.com/esf-vppm-todo-list",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.k8s",
      "mode": "managed",
      "type": "kubernetes_deployment",
      "name": "todo",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/esf-vppm-eu-central-1-deployment-todo",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 1,
                "labels": {
                  "Aluno": "hcp",
                  "Aluno2": "los2",
                  "Periodo": "8",
                  "app": "todo"
                },
                "name": "esf-vppm-eu-central-1-deployment-todo",
                "namespace": "default",
                "resource_version": "1354643",
                "uid": "c835aa82-a874-40d6-858e-e2a1c8bc7020"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": "1",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "todo"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": null,
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "todo"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": null,
                            "command": null,
                            "env": [],
                            "env_from": [],
                            "image": "325583868777.dkr.ecr.eu-central-1.amazonaws.com/esf-vppm/todo-list:latest",
                            "image_pull_policy": "Always",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "todo",
                            "port": [
                              {
                                "container_port": 3000,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": {
                                  "cpu": "250m",
                                  "memory": "256Mi"
                                },
                                "requests": {
                                  "cpu": "100m",
                                  "memory": "128Mi"
                                }
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_device": [],
                            "volume_mount": [],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": null,
                        "os": [],
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "runtime_class_name": "",
                        "scheduler_name": "default-scheduler",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [],
                        "topology_spread_constraint": [],
                        "volume": []
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "apps/v1",
            "kind": "Deployment",
            "name": "esf-vppm-eu-central-1-deployment-todo",
            "namespace": "default"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_eks_cluster.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.k8s",
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "todo",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "default/esf-vppm-eu-central-1-service-todo",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "esf-vppm-eu-central-1-service-todo",
                "namespace": "default",
                "resource_version": "1354680",
                "uid": "60de22c8-3aef-49a0-94a8-f25ffa2b7f28"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.100.56.18",
                "cluster_ips": [
                  "10.100.56.18"
                ],
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [
                  {
                    "app_protocol": "",
                    "name": "",
                    "node_port": 32176,
                    "port": 80,
                    "protocol": "TCP",
                    "target_port": "3000"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app": "todo"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "LoadBalancer"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": [
                      {
                        "hostname": "a60de22c83aef49a094a8f25ffa2b7f2-925383932.eu-central-1.elb.amazonaws.com",
                        "ip": ""
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Service",
            "name": "esf-vppm-eu-central-1-service-todo",
            "namespace": "default"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.aws_eks_cluster.cluster",
            "module.k8s.kubernetes_deployment.todo"
          ]
        }
      ]
    },
    {
      "module": "module.pipeline",
      "mode": "managed",
      "type": "aws_codepipeline",
      "name": "pipeline",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codepipeline:eu-central-1:325583868777:esf-vppm-todo-list-pipeline",
            "artifact_store": [
              {
                "encryption_key": [],
                "location": "esf-vppm-todo-list-artifacts",
                "region": "",
                "type": "S3"
              }
            ],
            "execution_mode": "SUPERSEDED",
            "id": "esf-vppm-todo-list-pipeline",
            "name": "esf-vppm-todo-list-pipeline",
            "pipeline_type": "V1",
            "role_arn": "arn:aws:iam::325583868777:role/esf-vppm-todo-list-pipeline-role",
            "stage": [
              {
                "action": [
                  {
                    "category": "Source",
                    "configuration": {
                      "BranchName": "main",
                      "ConnectionArn": "arn:aws:codeconnections:eu-central-1:325583868777:connection/ffc2d66f-be70-428b-8e37-d341b4ace88b",
                      "FullRepositoryId": "dudasfig/todo-list-app"
                    },
                    "input_artifacts": null,
                    "name": "Source",
                    "namespace": "",
                    "output_artifacts": [
                      "src"
                    ],
                    "owner": "AWS",
                    "provider": "CodeStarSourceConnection",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "timeout_in_minutes": 0,
                    "version": "1"
                  }
                ],
                "before_entry": [],
                "name": "Source",
                "on_failure": [],
                "on_success": []
              },
              {
                "action": [
                  {
                    "category": "Build",
                    "configuration": {
                      "PrimarySource": "src",
                      "ProjectName": "esf-vppm-todo-list"
                    },
                    "input_artifacts": [
                      "src"
                    ],
                    "name": "Build",
                    "namespace": "",
                    "output_artifacts": [
                      "buildOutput"
                    ],
                    "owner": "AWS",
                    "provider": "CodeBuild",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "timeout_in_minutes": 0,
                    "version": "1"
                  }
                ],
                "before_entry": [],
                "name": "Build",
                "on_failure": [],
                "on_success": []
              },
              {
                "action": [
                  {
                    "category": "Build",
                    "configuration": {
                      "ProjectName": "esf-vppm-todo-list-deploy"
                    },
                    "input_artifacts": [
                      "buildOutput"
                    ],
                    "name": "Deploy",
                    "namespace": "",
                    "output_artifacts": null,
                    "owner": "AWS",
                    "provider": "CodeBuild",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "timeout_in_minutes": 0,
                    "version": "1"
                  }
                ],
                "before_entry": [],
                "name": "Deploy",
                "on_failure": [],
                "on_success": []
              }
            ],
            "tags": null,
            "tags_all": {},
            "trigger": [],
            "trigger_all": [],
            "variable": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.codebuild.aws_codebuild_project.build",
            "module.codebuild.aws_codebuild_project.deploy",
            "module.ecr.aws_ecr_repository.repo",
            "module.pipeline.aws_iam_role.pipeline",
            "module.pipeline.aws_s3_bucket.artifacts"
          ]
        }
      ]
    },
    {
      "module": "module.pipeline",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "pipeline",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::325583868777:role/esf-vppm-todo-list-pipeline-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codepipeline.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-31T23:45:29Z",
            "description": "",
            "force_detach_policies": false,
            "id": "esf-vppm-todo-list-pipeline-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "esf-vppm-todo-list-pipeline-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAUXTSPSNUS4M5FQIAF"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.pipeline",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "pipeline",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "esf-vppm-todo-list-pipeline-role:esf-vppm-todo-list-pipeline-policy",
            "name": "esf-vppm-todo-list-pipeline-policy",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:GetObject\",\"s3:GetObjectVersion\",\"s3:PutObject\",\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::esf-vppm-todo-list-artifacts\",\"arn:aws:s3:::esf-vppm-todo-list-artifacts/*\"]},{\"Action\":[\"codebuild:StartBuild\",\"codebuild:BatchGetBuilds\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:codebuild:eu-central-1:325583868777:project/esf-vppm-todo-list\",\"arn:aws:codebuild:eu-central-1:325583868777:project/esf-vppm-todo-list-deploy\"]},{\"Action\":[\"codestar-connections:UseConnection\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:codeconnections:eu-central-1:325583868777:connection/ffc2d66f-be70-428b-8e37-d341b4ace88b\"},{\"Action\":[\"iam:PassRole\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:iam::325583868777:role/service-role/codebuild-asn-demo-lab-service-role\"}]}",
            "role": "esf-vppm-todo-list-pipeline-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.codebuild.aws_codebuild_project.build",
            "module.codebuild.aws_codebuild_project.deploy",
            "module.ecr.aws_ecr_repository.repo",
            "module.pipeline.aws_iam_role.pipeline",
            "module.pipeline.aws_s3_bucket.artifacts"
          ]
        }
      ]
    },
    {
      "module": "module.pipeline",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "artifacts",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::esf-vppm-todo-list-artifacts",
            "bucket": "esf-vppm-todo-list-artifacts",
            "bucket_domain_name": "esf-vppm-todo-list-artifacts.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "esf-vppm-todo-list-artifacts.s3.eu-central-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [
              {
                "id": "8022b3bfe1e45d090335847dc77b594076fc7367a05e12aaab58998de2bef47e",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z21DNDUVLTQW6Q",
            "id": "esf-vppm-todo-list-artifacts",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "eu-central-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    }
  ],
  "check_results": null
}
